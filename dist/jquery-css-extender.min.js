(function(a){function b(b){let c=b.cssHistory(),d={};for(let e in c){let b=c[e];a.extend(d,b.changedRulesFromLast)}return d}function c(a,b,c){var d=Number.isInteger;if("string"==typeof a)return[a];if(null!==a&&!Array.isArray(a)&&d(c))throw 1===c?c="first":2===c?c="second":3===c?c="third":void 0,new TypeError(`The ${c} argument of jQuery.fn.${b} must be a string, an array or null. ${typeof a} given.`);return a}let d=a.fn.css;a.fn.css=function(){if(!arguments.length||null===arguments[0])return this.getComputedCss();let a=[1<arguments.length,"object"==typeof arguments[0],"string"==typeof arguments[0]&&-1===arguments[0].indexOf(":")],b=["string"==typeof arguments[0]&&"string"==typeof arguments[1],"object"==typeof arguments[0]],c=!1,e={};for(let a in b)if(b[a]){switch(parseInt(a)){case 0:e[arguments[0]]=arguments[1];break;case 1:e=arguments[0];}c=!0;break}for(let b in a)if(a[b])return d.apply(this,arguments),c&&this.cssHistory(e),this;return this.rawCss(arguments[0])},a.fn.rawCss=function(a){if("string"!=typeof a)throw new TypeError(`The first argument of jQuery.fn.rawCss must be a string. ${typeof a} given.`);let b=/\{.*\}/s.test(a);if(b)return this.rawCssBlock(a);let c={},d=a.trim().split(";");for(let b=0;b<d.length;b++)if(line=d[b].trim(),line){let a=/([a-z-]+)\s*:\s*(.+)/.exec(line);c[a[1]]=a[2]}return this.css(c)},a.fn.rawCssBlock=function(a){let b=a.trim().split("}");for(let c in b)if(block=b[c],block){let a=`[]wd-`.split("").map(function(a){return`\\${a}`}),b=`#.<>:()+*,~|$^="' `.split("").concat(a).join(""),c=new RegExp(`([${b}]+)\{(.*)`,"s").exec(block),d=c[1],e=c[2],f=0<=d.indexOf(":this");f?this.css(e.replace(/.*:this/,"")):this.find(d).css(e)}return this},a.fn.getComputedCss=function(a=null,b=!1){a=c(a,1,"getComputedCss");let d=window.getComputedStyle(this[0],null),e={};for(let c,f=0;f<d.length;f++)c=d[f],null===a?e[c]=d.getPropertyValue(c):(!b&&a.includes(c)||b&&!a.includes(c))&&(e[c]=d.getPropertyValue(c));return e},a.fn.getDifferencesFromDefaultCss=function(a=null){a=c(a,1,"getDifferencesFromDefaultCss");let b=this.getComputedCss(),d=this.clone().useCssHistorySystem(!1).appendTo("body"),e=d.resetCss().getComputedCss(),f={};if(b===e)return d.remove(),f;for(let c in b)null===a?b[c]!==e[c]&&(f[c]=b[c]):a.includes(c)&&b[c]!==e[c]&&(f[c]=b[c]);return d.remove(),f},a.fn.getAllCssRulesFromShorthand=function(a){return"animation"===a?["animation-name","animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction","animation-fill-mode","animation-play-state"]:"background"===a?["background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","background-attachmen"]:"border"===a?["border-width","border-style","border-color"]:"border-bottom"===a?["border-bottom-width","border-bottom-style","border-bottom-color"]:"border-right"===a?["border-right-width","border-right-style","border-right-color"]:"border-left"===a?["border-left-width","border-left-style","border-left-color"]:"border-top"===a?["border-top-width","border-top-style","border-top-color"]:"border-radius"===a?["border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius"]:"border-style"===a?["border-top-style","border-right-style","border-bottom-style","border-left-style"]:"border-width"===a?["border-top-width","border-right-width","border-bottom-width","border-left-width"]:"border-color"===a?["border-top-color","border-right-color","border-bottom-color","border-left-color"]:"column-rule"===a?["column-rule-width","column-rule-style","column-rule-color"]:"columns"===a?["column-width","column-count"]:"flex"===a?["flex-shrink","flex-grow","flex-basis"]:"flex-flow"===a?["flew-direction","flex-wrap"]:"font"===a?["font-style","font-variant","font-weight","font-size","line-height","font-family"]:"grid"===a?["grid-template-rows","grid-template-columns","grid-template-areas","grid-auto-rows","grid-auto-columns","grid-auto-flow"]:"grid-area"===a?["grid-row-start","grid-column-start","grid-row-end","grid-column-end"]:"grid-column"===a?["grid-column-start","grid-column-end"]:"grid-row"===a?["grid-row-start","grid-row-end"]:"grid-template"===a?["grid-template-rows","grid-template-columns","grid-template-areas"]:"list-style"===a?["list-style-type","list-style-image","list-style-position"]:"margin"===a?["margin-top","margin-right","margin-bottom","margin-left"]:"padding"===a?["padding-top","padding-right","padding-bottom","padding-left"]:"offset"===a?["offset-path","offset-position","offset-distance","offset-rotate","offset-anchor"]:"overflow"===a?["overflow-x","overflow-y"]:"place-content"===a?["align-content","justify-content"]:"place-items"===a?["align-items","justify-items"]:"place-self"===a?["align-self","justify-self"]:"text-decoration"===a?["text-decoration-line","text-decoration-color","text-decoration-style"]:a},a.fn.copyCss=function(a,b=null,c=!1){if(!(a instanceof jQuery))throw new TypeError(`The first argument of jQuery.fn.copyCss must be a jQuery object. ${typeof a} given.`);if(this.data("__cssCopiedFromObject",a),"undefined"!=typeof a.getLastCssHistory()){let d=a.getLastCssHistory().allChangedRules,e={};if(null!==b)for(let a in d)(!c&&b.includes(a)||c&&!b.includes(a))&&(e[a]=d[a]);else e=d;this.css(e)}return"undefined"!=typeof a.getLastCssHistory()&&a.useCssHistorySystem()||this.css(a.getComputedCss(b,c)),this},a.fn.copyCssTo=function(a,b=null,c=!1){return a.copyCss(this,b,c),this},a.fn.takeCss=function(a,b=null,c=!1){if(!(a instanceof jQuery))throw new TypeError(`The first argument of jQuery.fn.takeCss must be a jQuery object. ${typeof a} given.`);if(this.data("__cssTakenFromObject",a),"undefined"!=typeof a.getLastCssHistory()){let d=a.getLastCssHistory().allChangedRules,e={};if(null!==b)for(let a in d)(!c&&b.includes(a)||c&&!b.includes(a))&&(e[a]=d[a]);else e=d;this.css(e)}return"undefined"!=typeof a.getLastCssHistory()&&a.useCssHistorySystem()||this.css(a.getComputedCss(b,c)),a.resetCss(b),this},a.fn.giveCssTo=function(a,b=null,c=!1){return a.takeCss(this,b,c),this},a.fn.resetCss=function(a=null){let b=this.getComputedCss(a);for(let c in this.data("__cssFromReset",!0),b)b[c]="";return this.css(b),this},a.fn.resetCssWithoutHistory=function(a=null){return this.useCssHistorySystem(!1).resetCss(a).useCssHistorySystem(!0)},a.fn.useCssHistorySystem=function(a=null){if(null===a)return this.data("__cssUseHistorySystem");if("string"==typeof a&&(a="true"===a),"number"==typeof a&&(a=0<a),"boolean"!=typeof a)throw new TypeError(`The first argument of jQuery.fn.useCssHistory must be a boolean. ${typeof a} given.`);return this.data("__cssUseHistorySystem",a),this},a.fn.cssHistory=function(c=null){if(null!==c&&"object"!=typeof c)throw new TypeError(`The first argument of jQuery.fn.cssHistory must be an object. ${typeof c} given.`);if("undefined"==typeof this.data("__cssHistory")&&this.data("__cssHistory",[]),"undefined"==typeof this.data("__cssUseHistorySystem")&&this.data("__cssUseHistorySystem",!0),!arguments.length||null===c)return this.data("__cssHistory");else{if(!1===this.data("__cssUseHistorySystem"))return this;let d=this.data("__cssHistory");return d.push({changedRulesFromLast:c,allChangedRules:a.extend(b(this),c),changedComputedRules:this.getDifferencesFromDefaultCss(),allComputedRules:this.getComputedCss(),takenFromObject:this.data("__cssTakenFromObject")||null,copiedFromObject:this.data("__cssCopiedFromObject")||null,takenFromHistory:this.data("__cssCopiedFromHistory")||null,fromReset:this.data("__cssFromReset")||null}),this.removeData(["__cssTakenFromObject","__cssCopiedFromObject","__cssCopiedFromHistory","__cssFromReset"]),this.data("__cssHistory",d)}},a.fn.getLastCssHistory=function(){return this.cssHistory()[this.cssHistory().length-1]},a.fn.useCssFromHistory=function(a,b=null){b=c(b,2,"useCssFromHistory");let d=this.cssHistory()[a].changedRulesFromLast;if(null!==b)for(let a in d)b.includes(a)||delete d[a];return this.data("__cssCurrentHistoryId",a),this.data("__cssCopiedFromHistory",this.cssHistory()[a]),this.resetCssWithoutHistory().css(d)},a.fn.usePreviousCss=function(a=null){let b=this.data("__cssCurrentHistoryId")||this.cssHistory().length-1;return this.data("__cssCurrentHistoryId",b--),this.useCssFromHistory(b,a)},a.fn.emptyCssHistory=function(){return this.data("__cssHistory")},a.fn.cssState=function(a=null,b=null){if(null!==a&&("number"==typeof a&&(a+=""),"string"!=typeof a))throw new TypeError(`The first argument of jQuery.fn.cssState must be an string. ${typeof a} given.`);if(null!==b&&"object"!=typeof b)throw new TypeError(`The second argument of jQuery.fn.cssState must be an object. ${typeof b} given.`);if("undefined"==typeof this.data("__cssState")&&this.data("__cssState",{}),!arguments.length)return this.data("__cssState");if(1===arguments.length){for(let a in this.data("__cssState"))if("object"==typeof this.data("__cssState")[a])return this.data("__cssState")[a];}else{let c=this.data("__cssState");return c[a]=b,this.data("__cssState",c)}}})(jQuery);